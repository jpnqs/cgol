<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conway's Game of Life</title>
    <link rel="shortcut icon" type="image/x-icon" href="icons/glider.png">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="scripts/media.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="styles/desktop.css">
    <link rel="stylesheet" href="styles/mobile.css">
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div class="control-container" id="cc">
    <button id="retry" onclick="regenerate()" title="regenerate field (R)"> <i class="material-icons" style="font-size: 22pt; margin-top:0.4rem">autorenew</i> </button>
    <button id="runner" onclick="startStop()" title="start/stop evolution (Space)"><i id="play" class="material-icons"  style="font-size: 22pt; margin-top:0.4rem">play_circle_outline</i> </button>
    <button id="closeMobileModal" class="mobileOnly" onclick="openCloseMobileSettings()"><i class="material-icons"  style="font-size: 22pt; margin-top:0.4rem">close</i></button><br>
    <div class="side-scroll-container">
    <label class="container" title="The entities dies after several moments by aging">Entity aging 
        <input type="checkbox" checked="true" onchange="bAging = this.checked">
        <span class="checkmark"></span>
    </label>
        <label id="auto-retry-check" class="container" >Auto retry after
          <input type="checkbox" onchange="bAutoRetry = this.checked">
          <span class="checkmark"></span>
      </label>
      <input id="auto-retry" type="number" oninput="nAutoRetry = this.value" value="500"><span id="auto-retry-text">Generations</span>
    <div id="delay">Evolution delay:</div>
    <div class="slidecontainer">
        <input type="range" min="10" max="400" value="100" class="slider" id="wait-dur" oninput="timeChange(this.value)">
      </div>
      <span id="ms-out">100</span><span>ms</span>
      <div class="no-mobile">
        <div id="generation-t">Generate probability:</div>
          <div class="slidecontainer">
            <input type="range" min="1" max="99" value="31" class="slider" oninput="probability(this.value)">
          </div>
          <span id="prob-out">31</span><span>%</span>
    </div>
    <div id="gen-out">
        <span><span class="material-icons" style="vertical-align: bottom; margin-right: 0.25rem">
          child_friendly
          </span>
           Generation: </span>
        <span id="generation"></span><br>
        <span><span class="material-icons" style="vertical-align: bottom;">
          fiber_new
          </span>
          New:
          </span>
          <span><span class="material-icons" style="margin-left:2.5rem; vertical-align: bottom;">
            close
            </span>
            Passed:
            </span><br>
            <span>
              <span>5000</span>
            </span>
    </div>
      <div id="drawing-tools">
        <span><span class="material-icons" style="vertical-align: bottom; margin-right: 0.25rem">
          color_lens
          </span> Drawing</span>
          <span class="expand" onclick="hideDrawing()"><span id="drawing-expand" class="material-icons">
            expand_less
            </span>
          </span><br>
          <div id="drawing-content" class="section-content">
        <button  id="pen" class="draw-button draw-button-active tool" onclick="activateTool(this, 'PEN')"><span class="material-icons">
          brush
          </span></button>
        <button  id="eraser" class="draw-button" onclick="activateTool(this, 'ERA')"><span class="material-icons">
          crop_portrait
          </span></button>
        <button class="draw-button tool" onclick="clearCanvas()"><span class="material-icons">
          delete_outline
          </span>
          </button>
        <button class="full-length" onclick="erosion()">Erosion</button>
        <button class="full-length" onclick="oField.dilatation()">Dilatation</button>
        <button class="full-length" onclick="findEdges()">Find edges</button>
        </div>
      </div>
      <div id="template-tools">
        <span><span class="material-icons" style="vertical-align: bottom; margin-right: 0.25rem">
          extension
          </span> Templates</span>
          <span class="expand" onclick="hideTemplateTools()" style="margin-left: 6.5rem;"><span id="template-tool-expand" class="material-icons">
            expand_less
            </span>
          </span><br>
         <div class="section-content" id="template-tool-content">
          <button class="full-length tool" onclick="activateTool(this, 'G1')" style="margin-top: 0.5rem;">
            <img src="icons/glider.png" style="height: 1.5rem; margin-right:0.5rem"> Glider</button>
          <button class="full-length tool" onclick="activateTool(this, 'G2')">
            <img src="icons/light_glider.png" style="height: 1.5rem; margin-right:0.5rem">Spaceship</button>
          <button class="full-length tool" onclick="activateTool(this, 'G3')">
            <img src="icons/porpoise.png" style="height: 1.6rem; margin-right:0.5rem">  Porpoise</button>
          <button class="full-length tool" onclick="activateTool(this, 'G4')">
            <img src="icons/f_pentomino.png" style="height: 1.6rem; margin-right:0.5rem">f-Pentomino</button>
        </div>
      </div>
      <div id="import_export-tools">
        <span><span class="material-icons" style="vertical-align: bottom; margin-right: 0.25rem">
          import_export
          </span> Import/Export</span>
          <span class="expand"  onclick="hideImportExport()" style="margin-left: 4.15rem;"><span id="import_export-expand" class="material-icons">
            expand_less
            </span>
          </span><br>
         <div class="section-content" id="import_export-content">
            <a href="" download="data.cgol" style="vertical-align: middle; margin-top: 0.5rem;"  class="link-button full-length" onclick="exportFile(this)"><span class="material-icons" style="vertical-align: sub; margin-right: 0.5rem">
              get_app
              </span>Export</a>
        <button class="full-length" onclick="uploadAndApplyFile()"><span style="vertical-align: sub; margin-right: 0.5rem" class="material-icons">
          publish
          </span>Import</button>
        <a href="" download="cgol_img.png" style="vertical-align: middle;"  class="link-button full-length" onclick="exportImage(this)"><span class="material-icons" style="vertical-align: sub; margin-right: 0.5rem">
          wallpaper
          </span>Screenshot</a>
        </div>
      </div>
      <div id="setting-tools">
        <span><span class="material-icons" style="vertical-align: bottom; margin-right: 0.25rem">
          settings
          </span> Settings</span>
          <span class="expand" onclick="hideSettingsTools()" style="margin-left: 7.7rem;"><span id="setting-tool-expand" class="material-icons">
            expand_less
            </span>
          </span><br>
         <div class="section-content" id="setting-tool-content">
            <input type="color" id="colorPicker">
            <label class="container" title="The entities dies after several moments by aging">Display grid 
              <input type="checkbox" checked="false" onchange="bAging = this.checked">
              <span class="checkmark"></span>
          </label>
        </div>
        <br> <br>
      </div>
      </div>
    </div>
    <div id="canvasContainer">
      <div class="mobileHeader mobileOnly">
        <button id="modalOpen" onclick="openCloseMobileSettings()">
          <span class="material-icons" style="font-size: 28pt;    vertical-align: sub;">
            menu
          </span>
        </button>
        <span class="mobileHeaderText">Game of Life</span>
      </div>
      <canvas id="canvas" height="600px" width="600px" style="height: 80%"></canvas>
        <a class="a desktopOnly" href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" title="What is Conway's Game of Life?"><span style="font-size: 24pt;margin-top: 0.25rem;" class="material-icons">
          help_outline
          </span></a>
          <a class="a desktopOnly" id="openFullScreen" onclick="openFullscreen()" style="margin-right: 3rem; cursor:pointer;" title="Fullscreen (F)"><span style="font-size: 20pt;margin-top: 0.45rem;" class="material-icons">
            fullscreen
            </span></a>
    </div>
    <script src="scripts/main.js"></script>
</body>
</html>
